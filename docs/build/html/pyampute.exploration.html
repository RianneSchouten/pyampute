
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>pyampute.exploration &#8212; pyampute 0.0.1 documentation</title>
    
    <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
  
    
    <link rel="stylesheet"
      href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">
  
    
      
  
    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/pydata-sphinx-theme.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css" />
    
    <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">
  
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Examples" href="examples.html" />
    <link rel="prev" title="pyampute.ampute module" href="pyampute.ampute.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="index.html">
<p class="title">pyampute</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="installation.html">
  Installation
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="pyampute.html">
  Package pyampute
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="examples.html">
  Examples
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="blogposts.html">
  Blogposts
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="about.html">
  About us
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="contributing.html">
  Contribution Guidelines
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="pyampute.ampute.html">
   pyampute.ampute module
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   pyampute.exploration
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-pyampute.exploration.md_patterns">
   pyampute.exploration.md_patterns module
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#module-pyampute.exploration.mcar_statistical_tests">
   pyampute.exploration.mcar_statistical_tests module
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="pyampute-exploration">
<h1>pyampute.exploration<a class="headerlink" href="#pyampute-exploration" title="Permalink to this headline">¶</a></h1>
<p>In the <code class="docutils literal notranslate"><span class="pre">pyampute.exploration</span></code> folder, we provide functionality for inspecting incomplete datasets.</p>
<p><a class="reference internal" href="#pyampute.exploration.md_patterns.mdPatterns" title="pyampute.exploration.md_patterns.mdPatterns"><code class="xref py py-class docutils literal notranslate"><span class="pre">mdPatterns</span></code></a> displays all unique missing data patterns in an incomplete dataset, which is useful for investigating whether there is structure (or a good explanation) for the occurrence of missing data.</p>
<p><a class="reference internal" href="#pyampute.exploration.mcar_statistical_tests.MCARTest" title="pyampute.exploration.mcar_statistical_tests.MCARTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">MCARTest</span></code></a> performs a statistical hypothesis test to evaluate whether it is likely that missing data has a Missing Completely At Random (MCAR) mechanism.</p>
<section id="module-pyampute.exploration.md_patterns">
<span id="pyampute-exploration-md-patterns-module"></span><h2>pyampute.exploration.md_patterns module<a class="headerlink" href="#module-pyampute.exploration.md_patterns" title="Permalink to this headline">¶</a></h2>
<p>Displays missing data patterns in incomplete datasets</p>
<dl class="py class">
<dt class="sig sig-object py" id="pyampute.exploration.md_patterns.mdPatterns">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyampute.exploration.md_patterns.</span></span><span class="sig-name descname"><span class="pre">mdPatterns</span></span><a class="headerlink" href="#pyampute.exploration.md_patterns.mdPatterns" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Displays missing data patterns in incomplete datasets</p>
<p>Extracts all unique missing data patterns in an incomplete dataset and creates a visualization. <code class="docutils literal notranslate"><span class="pre">1</span></code> (red) and <code class="docutils literal notranslate"><span class="pre">0</span></code> (blue) refer to missing and observed values respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> (<em>currently no parameters available.</em>) – </p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyampute.exploration.md_patterns.mdPatterns.md_patterns">
<span class="sig-name descname"><span class="pre">md_patterns</span></span><a class="headerlink" href="#pyampute.exploration.md_patterns.mdPatterns.md_patterns" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>k</cite> is the number of unique missing data patterns and <cite>m</cite> the number of dataset columns (features). <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span></code> correspond to missing and observed values respectively. The first row displays the data rows with no missing values and the last row gives column totals. The first column displays the count or proportion of rows that follow a pattern and the last column displays the number of missing values per pattern.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pandas DataFrame of shape <cite>(k+2, m+2)</cite></p>
</dd>
</dl>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="pyampute.ampute.html#pyampute.ampute.MultivariateAmputation" title="pyampute.ampute.MultivariateAmputation"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultivariateAmputation</span></code></a></dt><dd><p>Transformer for generating multivariate missingness in complete datasets</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>This class is useful for investigating any structure in an incomplete dataset, and can help to understand possible reasons or solutions. We follow the logic of a comparable R-function, <a class="reference external" href="https://github.com/amices/mice">mice::md_patterns</a>.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyampute.exploration.md_patterns</span> <span class="kn">import</span> <span class="n">mdPatterns</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nhanes2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/nhanes2.csv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mdp</span> <span class="o">=</span> <span class="n">mdPatterns</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">patterns</span> <span class="o">=</span> <span class="n">mdp</span><span class="o">.</span><span class="n">get_patterns</span><span class="p">(</span><span class="n">nhanes2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">patterns</span><span class="p">)</span>
<span class="go">                        row_count  age  hyp  bmi  chl  n_missing_values</span>
<span class="go">rows_no_missing                 13    1    1    1    1                 0</span>
<span class="go">1                                3    1    1    1    0                 1</span>
<span class="go">2                                1    1    1    0    1                 1</span>
<span class="go">3                                1    1    0    0    1                 2</span>
<span class="go">4                                7    1    0    0    0                 3</span>
<span class="go">n_missing_values_per_col              0    8    9   10                27</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pyampute.exploration.md_patterns.mdPatterns.get_patterns">
<span class="sig-name descname"><span class="pre">get_patterns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_or_proportion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'count'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyampute.exploration.md_patterns.mdPatterns.get_patterns" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts and visualizes missing data patterns in an incomplete dataset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (Matrix of shape <cite>(n, m)</cite>) – Dataset with missing values. <cite>n</cite> rows (samples) and <cite>m</cite> columns (features).</p></li>
<li><p><strong>count_or_proportion</strong> (<em>str</em><em>, </em><em>{&quot;count&quot;</em><em>, </em><em>&quot;proportion&quot;}</em><em>, </em><em>default : &quot;count&quot;</em>) – Whether the number of rows should be specified as a count or a proportion.</p></li>
<li><p><strong>show_plot</strong> (<em>bool</em><em>, </em><em>default : True</em>) – Whether a plot should be displayed using <code class="docutils literal notranslate"><span class="pre">plt.show</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>md_patterns</strong> – <cite>k</cite> is the number of unique missing data patterns and <cite>m</cite> the number of dataset columns (features). The first row displays the data rows with no missing values and the last row gives column totals. The first column displays the count or proportion of rows that follow a pattern and the last column displays the number of missing values per pattern.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame of shape <cite>(k+2, m+2)</cite></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-pyampute.exploration.mcar_statistical_tests">
<span id="pyampute-exploration-mcar-statistical-tests-module"></span><h2>pyampute.exploration.mcar_statistical_tests module<a class="headerlink" href="#module-pyampute.exploration.mcar_statistical_tests" title="Permalink to this headline">¶</a></h2>
<p>Statistical hypothesis test for Missing Completely At Random (MCAR)</p>
<dl class="py class">
<dt class="sig sig-object py" id="pyampute.exploration.mcar_statistical_tests.MCARTest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyampute.exploration.mcar_statistical_tests.</span></span><span class="sig-name descname"><span class="pre">MCARTest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'little'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyampute.exploration.mcar_statistical_tests.MCARTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Statistical hypothesis test for Missing Completely At Random (MCAR)</p>
<p>Performs Little’s MCAR test (see <a class="reference external" href="https://www.tandfonline.com/doi/abs/10.1080/01621459.1988.10478722">Little, R.J.A. (1988)</a>). Null hypothesis: data is Missing Completely At Random (MCAR). Alternative hypothesis: data is not MCAR.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>method</strong> (<em>str</em><em>, </em><em>{&quot;little&quot;</em><em>, </em><em>&quot;ttest&quot;}</em><em>, </em><em>default : &quot;little&quot;</em>) – Whether to perform a chi-square test on the entire dataset (“little”) or separate t-tests for every combination of variables (“ttest”).</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pyampute.exploration.md_patterns.mdPatterns" title="pyampute.exploration.md_patterns.mdPatterns"><code class="xref py py-class docutils literal notranslate"><span class="pre">mdPatterns</span></code></a></dt><dd><p>Displays missing data patterns in incomplete datasets</p>
</dd>
<dt><a class="reference internal" href="pyampute.ampute.html#pyampute.ampute.MultivariateAmputation" title="pyampute.ampute.MultivariateAmputation"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultivariateAmputation</span></code></a></dt><dd><p>Transformer for generating multivariate missingness in complete datasets</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>We advise to use Little’s MCAR test carefully. Rejecting the null hypothesis may not always mean that data is not MCAR, nor is accepting the null hypothesis a guarantee that data is MCAR. See <a class="reference external" href="https://journals.sagepub.com/doi/full/10.1177/0049124118799376">Schouten et al. (2021)</a> for a thorough discussion of missingness mechanisms.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyampute.exploration.mcar_statistical_tests.MCARTest.littles_mcar_test">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">littles_mcar_test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyampute.exploration.mcar_statistical_tests.MCARTest.littles_mcar_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of Little’s MCAR test</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (Matrix of shape <cite>(n, m)</cite>) – Dataset with missing values. <cite>n</cite> rows (samples) and <cite>m</cite> columns (features).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pvalue</strong> – The p-value of a chi-square hypothesis test. Null hypothesis: data is Missing Completely At Random (MCAR). Alternative hypothesis: data is not MCAR.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyampute.exploration.mcar_statistical_tests.MCARTest.mcar_t_tests">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mcar_t_tests</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyampute.exploration.mcar_statistical_tests.MCARTest.mcar_t_tests" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs t-tests for MCAR for each pair of features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (Matrix of shape <cite>(n, m)</cite>) – Dataset with missing values. <cite>n</cite> rows (samples) and <cite>m</cite> columns (features).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pvalues</strong> – The p-values of t-tests for each pair of features. Null hypothesis for cell <img class="math" src="_images/math/83884167e76ea85b44cb888c9e37a02919b547d7.png" alt="pvalues[h,j]"/>: data in feature <img class="math" src="_images/math/4c120f773ab4e1c59ad2bd44aae969ce24dd190a.png" alt="h"/> is Missing Completely At Random (MCAR) with respect to feature <img class="math" src="_images/math/e3fc28292267f066fee7718c64f4bbfece521f24.png" alt="j"/> for all <img class="math" src="_images/math/7bd3612cf528fb6e9a1e188c41fcb85a5df95d11.png" alt="h,j"/> in <img class="math" src="_images/math/86663b8c8ca279d6d4c390db5ce47e014a0004a8.png" alt="{1,2,...m}"/>. Diagonal values do not exist.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas DataFrame of shape <cite>(m, m)</cite></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="pyampute.ampute.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">pyampute.ampute module</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="examples.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Examples</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
    <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, Rianne Schouten, Davina Zamanzadeh, &amp; Prabhant Singh.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.2.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>